<!-- <p-toolbar styleClass="bg-primary-700 border-none shadow-3 px-4 py-2 mb-4" [style]="{'border-radius': '0'}">
    <div class="p-toolbar-group-start">
        <div class="flex align-items-center text-white cursor-pointer" routerLink="/">
            <i class="pi pi-percentage text-3xl"></i> -->
<!-- <img src="icon.png" height="50px">
            <h2 class="m-0 font-bold">CHINESE SALE</h2>
        </div>
    </div>
    <ng-container *ngIf="isAdmin">

        <p-button
            label="Dashboard"
            icon="pi pi-chart-bar"
            [text]="true"
            styleClass="text-white"
            routerLink="/admin/dashboard">
        </p-button>
    
        <p-button
            label="Donors"
            icon="pi pi-users"
            [text]="true" -->
<!-- styleClass="text-white"
            routerLink="/admin/donors">
        </p-button>
    
        <p-button
            label="Gifts"
            icon="pi pi-gift"
            [text]="true"
            styleClass="text-white"
            routerLink="/admin/gifts">
        </p-button>
    
    </ng-container>
    
    <div class="p-toolbar-group-end gap-3">
        <p-button *ngIf="!isAdmin" [text]="true" severity="secondary" styleClass="p-0" routerLink="/cart">
            <ng-template pTemplate="content">
                <div class="relative inline-flex align-items-center p-3">
                    <i class="pi pi-shopping-cart text-2xl text-white"></i>
                    <span *ngIf="(cartService.count$ | async) as count" 
                          class="absolute border-circle bg-danger text-white flex align-items-center justify-content-center"
                          style="top: 2px; right: 2px; min-width: 1.25rem; height: 1.25rem; font-size: 0.75rem; background-color: #ef4444;">
                        {{ count }}
                    </span>
                </div>
            </ng-template>
        </p-button>
        <p-button [text]="true" severity="secondary" styleClass="p-0" routerLink="/">
            <ng-template pTemplate="content">
                <div class="relative inline-flex align-items-center p-3">
                    <i class="pi pi-gift text-2xl text-white"></i>
                   
                </div>
            </ng-template>
        </p-button>
        <div class="p-toolbar-group-end gap-3">
            <ng-container *ngIf="authService.currentUser$ | async as user; else guest">
                <p-button [label]="user.firstName" icon="pi pi-user" [text]="true" styleClass="text-white" routerLink="/profile"></p-button>
                <p-button icon="pi pi-sign-out" [text]="true" styleClass="text-white" (onClick)="authService.logout()"></p-button>
            </ng-container>
        
            <ng-template #guest>
                <p-button label="התחברות" icon="pi pi-user" [outlined]="true" styleClass="text-white" routerLink="/login"></p-button>
            </ng-template>
        </div> -->
<!-- <p-button label="התחברות" icon="pi pi-user" [outlined]="true" styleClass="text-white border-white"></p-button> -->
<!-- </div>
</p-toolbar> -->

<p-toolbar styleClass="bg-primary-700 border-none shadow-3 px-4 py-2 mb-4" [style]="{'border-radius': '0'}">

    <!-- ===== START: לוגו ===== -->
    <div class="p-toolbar-group-start">
        <div class="flex align-items-center text-white cursor-pointer" routerLink="/">
            <img src="icon.png" height="50" alt="Logo">
            <h2 class="m-0 font-bold ml-2">CHINESE SALE</h2>
        </div>
    </div>

    <!-- ===== CENTER: כפתורי ניווט אדמין ===== -->
    <div class="p-toolbar-group-center gap-2 flex align-items-center" *ngIf="isAdmin">
        <p-button *ngIf="!(raffleState.isLocked$ | async)" label="Open the sale" icon="pi pi-play" [text]="true"
            styleClass="text-white" (click)="startRaffle()">
        </p-button>

        <span *ngIf="raffleState.isLocked$ | async" class="text-red-500 font-bold">
            The sale opened
        </span>

        <p-button label="Dashboard" icon="pi pi-chart-bar" [text]="true" styleClass="text-white"
            routerLink="/admin/dashboard">
        </p-button>

        <p-button label="Donors" icon="pi pi-users" [text]="true" styleClass="text-white" routerLink="/admin/donors">
        </p-button>

        <p-button label="Gifts" icon="pi pi-gift" [text]="true" styleClass="text-white" routerLink="">
        </p-button>
         <p-button label="Winners" icon="pi pi-trophy" [text]="true" styleClass="text-white" routerLink="/admin/winners">
        </p-button>
    </div>

    <!-- ===== RIGHT: כפתורים למשתמש רגיל ===== -->
    <div class="p-toolbar-group-center gap-3 flex align-items-center justify-content-end">

        <!-- סל קניות -->
        <p-button *ngIf="!isAdmin" [text]="true" styleClass="p-0" routerLink="/cart">
            <ng-template pTemplate="content">
                <div class="relative inline-flex align-items-center p-3">
                    <i class="pi pi-shopping-cart text-2xl text-white"></i>
                    <span *ngIf="(cartService.count$ | async) as count"
                        class="absolute border-circle text-white flex align-items-center justify-content-center"
                        style="top: 2px; right: 2px; min-width: 1.25rem; height: 1.25rem; font-size: 0.75rem; background-color: #ef4444;">
                        {{ count }}
                    </span>
                </div>
            </ng-template>
        </p-button>

        <!-- כפתור מתנות -->
        <p-button *ngIf="!isAdmin" [text]="true" styleClass="p-0" routerLink="/">
            <ng-template pTemplate="content">
                <div class="relative inline-flex align-items-center p-3">
                    <i class="pi pi-gift text-2xl text-white"></i>
                </div>
            </ng-template>
        </p-button>

        <!-- כניסה / יציאה -->
        <ng-container *ngIf="authService.currentUser$ | async as user; else guest">
            <p-button label="{{ user.firstName }}" icon="pi pi-user" [text]="true" styleClass="text-white"
                routerLink="/profile">
            </p-button>
            <p-button icon="pi pi-sign-out" [text]="true" styleClass="text-white" (click)="logout()">
            </p-button>
        </ng-container>

        <ng-template #guest>
            <p-button label="התחברות" icon="pi pi-user" [outlined]="true" styleClass="text-white" routerLink="/login">
            </p-button>
        </ng-template>

    </div>
</p-toolbar>
<!-- דיאלוג אישור הפעלת ההגרלה -->
<!-- <p-dialog header="אישור" [(visible)]="raffleDialogVisible" [modal]="true" [closable]="false" [style]="{width: '350px'}">
    <p>האם אתה בטוח שברצונך להתחיל את ההגרלה? לא ניתן לחזור אחורה.</p>
    <p-footer class="flex justify-content-end gap-2">
        <p-button label="בטל" icon="pi pi-times" (click)="cancelStartRaffle()" class="p-button-text"></p-button>
        <p-button label="אשר" icon="pi pi-check" (click)="confirmStartRaffle()" class="p-button-primary"></p-button>
    </p-footer>
</p-dialog>

 Toast להודעות 
<p-toast></p-toast> -->
<!-- דיאלוג אישור הפעלת ההגרלה -->
<p-dialog [(visible)]="raffleDialogVisible" [modal]="true" [closable]="false"
    [style]="{width: '400px', borderRadius: '8px'}" [baseZIndex]="10000" [contentStyle]="{'padding':'0'}">

    <!-- Header -->
    <!-- <ng-template pTemplate="header">
        <div class="bg-primary-700 text-white font-bold text-lg p-2 text-center">
            אישור הפעלת ההגרלה
        </div>
    </ng-template> -->

    <!-- Body + Footer container -->
    <div class="flex flex-column justify-content-between gap-4 align-items-center p-4" style="height: 200px;">
        <!-- תוכן הדיאלוג -->
        <div class="flex flex-column justify-content-center align-items-center gap-4 text-center">
            <i class="pi pi-exclamation-triangle text-5xl text-yellow-400"></i>
            <p class="text-base m-0">
                האם אתה בטוח שברצונך<br>
                ?להתחיל את ההגרלה<br>
                .פעולה זו לא ניתנת לביטול
            </p>
        </div>

        <!-- Footer: כפתורים במרכז -->
        <div class="flex justify-content-center align-items-center gap-4 w-full margin-top-4">
            <p-button label="בטל" icon="pi pi-times" (click)="cancelStartRaffle()" class="p-button-text"></p-button>
            <p-button label="אשר" icon="pi pi-check" (click)="confirmStartRaffle()" class="p-button-primary"></p-button>
        </div>
    </div>

</p-dialog>


<!-- Toast להודעות -->
<p-toast position="top-right"></p-toast>